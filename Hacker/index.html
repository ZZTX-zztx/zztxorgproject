<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no">
<title>Hacker CMD</title>
<!-- 图标：Hacker → 绿色H -->
<link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEyOCIgaGVpZ2h0PSIxMjgiIGZpbGw9IiMwMDAiLz48dGV4dCB4PSI1MCIgeT0iODAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iNzAiIGZpbGw9IiMwZjAiPkI8L3RleHQ+PC9zdmc+">
<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}
body{
  background:#000;
  color:#0f0;
  font-family:monospace;
  height:100vh;
  overflow:hidden;
  padding:8px;
}
#matrix{
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  z-index:1;
  display:none;
}
.console{
  position:relative;
  z-index:2;
  height:100%;
  display:flex;
  flex-direction:column;
}
.top-info{
  font-size:16px;
  line-height:1.5;
  margin-bottom:4px;
}
.input-line{
  display:flex;
  font-size:16px;
  line-height:1.5;
  margin-bottom:4px;
}
#input{
  flex:1;
  background:transparent;
  border:none; outline:none;
  color:#0f0;
  font-family:monospace;
  font-size:16px;
  padding-left:4px;
}
.output{
  flex:1;
  font-size:16px;
  line-height:1.5;
  overflow:hidden;
}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div class="console">
  <div class="top-info">
Microsoft Windows [版本 10.0.19045.3803]
(c) Microsoft Corporation. 保留所有权利。
  </div>

  <div class="input-line">
    <span>C:\Hacker&gt;</span>
    <input id="input" autocomplete="off">
  </div>

  <div class="output" id="output"></div>
</div>

<script>
const output = document.getElementById('output');
const input = document.getElementById('input');
const matrix = document.getElementById('matrix');
const ctx = matrix.getContext('2d');

input.focus();

function goFull() {
  try {
    if (document.documentElement.requestFullscreen) {
      document.documentElement.requestFullscreen();
    } else if (document.documentElement.webkitRequestFullscreen) {
      document.documentElement.webkitRequestFullscreen();
    }
  } catch (e) {}
}

input.addEventListener('keydown', (e) => {
  if (e.key !== 'Enter') return;

  goFull();

  const cmd = input.value.trim();
  output.textContent += `C:\\Hacker>${cmd}\n`;
  input.value = '';

  let chaos = '';
  for(let i=0;i<60;i++){
    chaos += String.fromCharCode(Math.random()*93+33);
  }
  output.textContent += chaos + '\n';

  alert('错误：系统指令异常\nCMD即将关闭');

  document.querySelector('.console').style.display = 'none';
  matrix.style.display = 'block';
  startMatrix();
});

function startMatrix(){
  matrix.width = window.innerWidth;
  matrix.height = window.innerHeight;
  const cols = Math.floor(matrix.width/16);
  const drops = Array(cols).fill(1);
  const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';

  function draw(){
    ctx.fillStyle='rgba(0,0,0,0.08)';
    ctx.fillRect(0,0,matrix.width,matrix.height);
    ctx.fillStyle='#0f0';
    ctx.font='16px monospace';
    for(let i=0;i<drops.length;i++){
      const t = chars[Math.floor(Math.random()*chars.length)];
      ctx.fillText(t,i*16,drops[i]*16);
      if(drops[i]*16 > matrix.height && Math.random()>0.975) drops[i]=0;
      drops[i]++;
    }
    requestAnimationFrame(draw);
  }
  draw();
}
</script>
</body>
</html>
